(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(11),r=a.n(n),s=(a(120),a(121),a(28)),i=a(47),o=a(12),l=a(13),j=a.n(l),b=a(19),u=a(17),d=a(202),m=a(198),p=a(203),O=a(201),x=a(68),h=a.n(x),v=a(199),f=a(195),N=a(14),y=a(20),w=a.n(y),k=a(2),g=function(e){var t=e.setCommittee,a=Object(c.useState)({country:"",name:"",typeLink:"",countryObj:null,link:""}),n=Object(u.a)(a,2),r=n[0],s=n[1],l=Object.keys(h.a.countries).map((function(e){return h.a.countries[e].key=e,h.a.countries[e]})),x=function(e,t){var a=t?{country:t.key,countryObj:t}:{country:null,countryObj:null};s(Object(o.a)(Object(o.a)({},r),a))},y=Object(c.memo)((function(){return Object(k.jsx)(v.a,{onChange:x,value:r.countryObj,options:l,getOptionLabel:function(e){return e.emoji+" "+e.name},renderInput:function(e){return Object(k.jsx)(O.a,Object(o.a)(Object(o.a)({},e),{},{label:"\u0421\u0442\u0440\u0430\u043d\u043d\u0430"}))}})})),g=function(){var e=Object(b.a)(j.a.mark((function e(a){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.country&&r.name&&r.typeLink&&r.link){e.next=3;break}return e.abrupt("return");case 3:return c={country:r.country,name:r.name,typeLink:r.typeLink,link:r.link},e.prev=4,e.next=7,w.a.post("/api/committee/",c);case 7:200!==(n=e.sent).status?N.b.error(n.data):(t((function(e){return[n.data].concat(Object(i.a)(e))})),Object(N.b)("\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),N.b.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("form",{onSubmit:g,children:[Object(k.jsxs)("div",{className:"row mb-2",children:[Object(k.jsx)("div",{className:"col-xl-3 mb-3",children:Object(k.jsx)(y,{})}),Object(k.jsx)("div",{className:"col-xl-9 ",children:Object(k.jsx)(O.a,{className:"w-100",value:r.name,onChange:function(e){s(Object(o.a)(Object(o.a)({},r),{},{name:e.target.value}))},label:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435..."})})]}),Object(k.jsxs)("div",{className:"row mb-2",children:[Object(k.jsxs)("div",{className:"col-xl-3 mb-3",children:[Object(k.jsx)(d.a,{id:"toInfo",children:"\u0421\u043e\u0446. \u0441\u0435\u0442\u044c"}),Object(k.jsxs)(m.a,{labelId:"toInfo",className:"w-100",name:"type",value:r.typeLink,onChange:function(e){s(Object(o.a)(Object(o.a)({},r),{},{typeLink:e.target.value}))},children:[Object(k.jsx)(p.a,{value:"inst",children:"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c"}),Object(k.jsx)(p.a,{value:"fb",children:"Facebook"}),Object(k.jsx)(p.a,{value:"vk",children:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"}),Object(k.jsx)(p.a,{value:"te",children:"\u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c"}),Object(k.jsx)(p.a,{value:"lin",children:"Linkedin"})]})]}),Object(k.jsx)("div",{className:"col-xl-9",children:Object(k.jsx)(O.a,{className:"w-100",value:r.link,onChange:function(e){s(Object(o.a)(Object(o.a)({},r),{},{link:e.target.value}))},label:"\u0421\u044b\u043b\u043a\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435..."})})]}),Object(k.jsx)("div",{className:"row mb-2",children:Object(k.jsx)("div",{className:"col",children:Object(k.jsx)(f.a,{className:"w-100",variant:"contained",color:"primary",type:"submit",disabled:!r.name||!r.country||!r.typeLink||!r.link,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})]})},C=a(63),z=a.n(C),S=a(64),_=a.n(S),I=a(65),L=a.n(I),F=a(101),E=a.n(F),D=a(100),J=a.n(D),P=a(99),A=a.n(P),B=a(200),$=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({open:!1,body:null}),s=Object(u.a)(r,2),l=s[0],d=s[1],m=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/committee/");case 3:200!==(t=e.sent).status?N.b.error(t.data):n(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N.b.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[]);var p=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,w.a.get("/api/committee/"+t);case 4:200!==(c=e.sent).status?N.b.error(c.data):a=c.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N.b.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 11:console.log(a),d(Object(o.a)(Object(o.a)({},l),{},{body:a,open:!l.open}));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t,c){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={status:"done"},e.next=4,w.a.put("/api/committee/"+t,r);case 4:200!==(s=e.sent).status?N.b.error(s.data):(a[c].status="done",n(Object(i.a)(a)),Object(N.b)("\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N.b.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u0412\u044b \u0434\u0435\u0439\u0442\u0441\u0432\u0438\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0435\u0433\u043e?")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,w.a.delete("/api/committee/"+t);case 6:200!==(c=e.sent).status?N.b.error(c.data):n(a.filter((function(e){return e._id!==t}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N.b.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"container-xl",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)(g,{setCommittee:n})}),Object(k.jsx)("div",{className:"row ",children:a.map((function(e,t){return Object(k.jsxs)("div",{className:"col-3 bg-light border-dark border p-3 ",children:[Object(k.jsxs)("div",{className:"row align-items-center mb-2",children:[Object(k.jsx)("div",{className:"col",children:"await"===e.status?Object(k.jsx)(_.a,{className:"awaitFound"}):Object(k.jsx)(L.a,{className:"doneFound"})}),Object(k.jsxs)("div",{className:"col fw-bold",children:["# ",e.idCommittee]}),Object(k.jsx)(z.a,{className:"col",code:e.country,height:20,fallback:Object(k.jsx)("span",{children:"?!"})})]}),Object(k.jsx)("div",{className:"row mb-2",children:Object(k.jsx)("div",{className:"col",children:e.name})}),Object(k.jsxs)("div",{className:"row mb-2 ",children:[Object(k.jsx)("div",{className:"col",children:e.typeLink}),Object(k.jsx)("a",{href:e.link,className:"col",children:"\u0421\u044b\u043b\u043a\u0430"})]}),Object(k.jsxs)("div",{className:"row mt-4 mb-1 align-items-center justify-content-end",children:[Object(k.jsx)(A.a,{className:"col pointer",onClick:function(){return p(e._id)}}),"done"!==e.status&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(J.a,{className:"col pointer",onClick:function(){return O(e._id,t)}}),Object(k.jsx)(E.a,{className:"col pointer",onClick:function(){return x(e._id)}})]})]})]},e.idCommittee)}))}),Object(k.jsx)(B.a,{open:l.open,onClose:function(){d(Object(o.a)(Object(o.a)({},l),{},{open:!l.open}))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(k.jsx)("div",{className:"container-xl mt-5 bg-white p-5",children:Object(k.jsx)("pre",{children:JSON.stringify(l.body,void 0,3)})})})]})},q=function(){return Object(k.jsx)("nav",{className:"navbar navbar-expand navbar-light bg-light",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(k.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(k.jsx)(s.b,{className:"nav-link",to:"/",exact:!0,activeClassName:"active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(k.jsx)(s.b,{className:"nav-link",to:"/create",activeClassName:"active",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(k.jsx)(s.b,{className:"nav-link",to:"/committee",activeClassName:"active",children:"\u041a\u043e\u043c\u0438\u0442\u0435\u0442"})]})})})})},G=a(15),H=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/contest/");case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return");case 5:n(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(k.jsx)("div",{className:"container-xl",children:Object(k.jsx)("div",{className:"row",children:a.length?a.map((function(e,t){return Object(k.jsxs)(s.b,{to:"/contest/"+e._id,className:"col-xl-3 col-md-10 border m-xl-3 p-3 text-decoration-none",children:[Object(k.jsx)("div",{className:"text-uppercase fs-4 pointer",children:e.name}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"fs-6",children:e.project})]},t)})):"\u0415\u0449\u0435 \u043d\u0435\u0442 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u043e\u0432"})})},K=a(45),M=function(){var e=Object(G.g)(),t=Object(c.useState)({name:"",project:"",prize:""}),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),l=Object(u.a)(s,2),d=l[0],m=l[1],p=function(e){r(Object(o.a)(Object(o.a)({},n),{},Object(K.a)({},e.target.name,e.target.value)))},x=function(){var t=Object(b.a)(j.a.mark((function t(a){var c,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c=n.name,r=n.project,c&&r&&d.length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,w.a.post("/api/contest/",{name:c,project:r,prizes:d});case 6:200!==(s=t.sent).status?N.b.error(s.data):(Object(N.b)("\u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0441\u043e\u0437\u0434\u0430\u043d"),e.push("/contest/"+s.data._id));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("form",{onSubmit:x,className:"container-xl",autoComplete:"off",children:[Object(k.jsxs)("div",{className:"row mb-2",children:[Object(k.jsx)(O.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",value:n.name,onChange:p}),Object(k.jsx)(O.a,{label:"\u041f\u0440\u043e\u0435\u043a\u0442",name:"project",value:n.project,onChange:p}),Object(k.jsx)(O.a,{label:"\u041f\u0440\u0438\u0437",name:"prize",value:n.prize,onChange:p,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1000 \u0434\u043e\u043b\u0435\u0439"}),Object(k.jsx)(f.a,{className:"mt-3 mb-4",variant:"contained",color:"primary",onClick:function(){n.prize&&(m([n.prize].concat(Object(i.a)(d))),r(Object(o.a)(Object(o.a)({},n),{},{prize:""})))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u0437"}),d.map((function(e,t){return Object(k.jsxs)("div",{className:"row-md-12 mb-2 border-bottom w-100",children:[Object(k.jsx)("div",{className:"col-xl-10 col-md-12 w-100",children:e}),Object(k.jsx)(f.a,{className:"col-xl-2 col-md-12 w-100",color:"secondary",onClick:function(){return e=t,void m(d.filter((function(t,a){return a!==e})));var e},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},t)}))]}),Object(k.jsx)("div",{className:"row mt-5",children:Object(k.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0443\u0440\u0441"})})]})},Q=a(196),R=a(197),T=a(102),U=a.n(T),V=function(){var e=Object(G.h)().id,t=Object(c.useState)(null),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],x=i[1],h=Object(c.useState)({prize:"",type:""}),v=Object(u.a)(h,2),y=v[0],g=v[1],C=Object(c.useState)(null),S=Object(u.a)(C,2),I=S[0],F=S[1],E=Object(c.useState)({text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"}),D=Object(u.a)(E,2),J=D[0],P=D[1],A=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/contest/"+t);case 2:200!==(a=e.sent).status?N.b.error(a.data):r(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){A(e)}),[e]);var B=function(e){switch(g(Object(o.a)(Object(o.a)({},y),{},Object(K.a)({},e.target.name,e.target.value))),e.target.name){case"prize":break;case"type":P({text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"})}},$=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l&&y.type&&y.prize){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,w.a.post("/api/contest/"+n._id,{data:l,type:y.type,prizeId:y.prize});case 5:200!==(a=e.sent).status?N.b.error(a.data):((c=n).infos.unshift(a.data),r(Object(o.a)({},c)),Object(N.b)("\u0417\u0430\u043f\u0438\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/contest/"+n._id+"/"+t);case 2:200!==(a=e.sent).status?N.b.error(a.data):((c=n).infos=c.infos.filter((function(e){return e._id!==t})),r(Object(o.a)({},c)),Object(N.b)("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){switch(e.status){case"await":return Object(k.jsx)(_.a,{className:"awaitFound"});case"done":return Object(k.jsx)(L.a,{className:"doneFound"});case"not":return Object(k.jsx)(U.a,{className:"notFound"})}};return n?Object(k.jsxs)("div",{className:"container-xl",children:[Object(k.jsxs)("div",{className:"mb-2 mt-2 text-center bg-light p-3 text-dark fw-bold",children:[n.project," | ",n.name," | ",n._id]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("form",{onSubmit:$,children:[Object(k.jsxs)("div",{className:"row mb-2 mt-4",children:[Object(k.jsxs)("div",{className:"col-12 mb-4",children:[Object(k.jsx)(d.a,{id:"toPrize",children:"\u041f\u0440\u0438\u0437"}),Object(k.jsx)(m.a,{labelId:"toPrize",className:"w-100",name:"prize",value:y.prize,onChange:B,children:n.prizes.map((function(e,t){return Object(k.jsx)(p.a,{value:e._id,children:e.data})}))})]}),Object(k.jsxs)("div",{className:"col-xl-2 col-md-12 mb-4",children:[Object(k.jsx)(d.a,{id:"toInfo",children:"\u0422\u0438\u043f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),Object(k.jsxs)(m.a,{labelId:"toInfo",className:"w-100",name:"type",value:y.type,onChange:B,children:[Object(k.jsx)(p.a,{value:"login",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(k.jsx)(p.a,{value:"phone",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(k.jsx)(p.a,{value:"any",children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})]}),Object(k.jsx)(O.a,{className:"col-xl-10 col-md-12 w-md-100",value:l,onChange:function(e){var t=e.target.value;if("phone"===y.type){if(!/^[\d,+]*$/.test(t))return;var a=Object(R.a)(t),c={text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"};a||(c={text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",color:"secondary"}),P(c),F(a)}x(t)},label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",name:"name",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",InputProps:{startAdornment:"phone"===y.type&&I&&Object(k.jsx)(z.a,{code:I.country,height:20,fallback:Object(k.jsx)("span",{children:"?!"})})}})]}),Object(k.jsx)(f.a,{className:"row-12 mb-5 w-100",variant:"contained",color:J.color,type:"submit",disabled:!y.type||!y.prize||"phone"===y.type&&!I,children:J.text})]}),(!y.type||!y.prize)&&Object(k.jsx)("div",{className:"row mx-auto mb-5 text-danger",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u0437"}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-12 mt-3",children:Object(k.jsx)("div",{className:"row",children:n.infos.map((function(e,t){var a=e.status||"await";return Object(k.jsx)("div",{className:"col-12 mb-3 border-bottom ".concat(a),children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsxs)("div",{className:"col-xl-10 col-md-12",children:[Object(k.jsx)(H,{status:a})," ",e.type,": ",e.data," | prize: ",n.prizes.filter((function(t){return t._id===e.prizeId}))[0].data]}),Object(k.jsx)(f.a,{className:"col-xl-2 col-md-12",color:"secondary",onClick:function(){return q(e._id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},t)}))})})})]})]}):Object(k.jsx)("div",{className:"container text-center",children:Object(k.jsx)(Q.a,{})})};a(153);var W=function(){var e=Object(k.jsxs)(G.d,{children:[Object(k.jsx)(G.b,{path:"/",exact:!0,children:Object(k.jsx)(H,{})}),Object(k.jsx)(G.b,{path:"/create",children:Object(k.jsx)(M,{})}),Object(k.jsx)(G.b,{path:"/contest/:id",children:Object(k.jsx)(V,{})}),Object(k.jsx)(G.b,{path:"/committee",children:Object(k.jsx)($,{})}),Object(k.jsx)(G.a,{to:"/"})]});return Object(k.jsxs)(s.a,{children:[Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(q,{}),e]}),Object(k.jsx)(N.a,{})]})};r.a.render(Object(k.jsx)(W,{}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.8f60e512.chunk.js.map