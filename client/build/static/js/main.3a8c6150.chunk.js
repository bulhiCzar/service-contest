(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(8),r=a.n(n),s=(a(91),a(92),a(22)),i=a(2),o=function(){return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(i.jsx)(s.b,{className:"nav-link",to:"/",exact:!0,activeClassName:"active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(i.jsx)(s.b,{className:"nav-link",to:"/create",activeClassName:"active",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})})})},j=a(11),l=a(15),b=a.n(l),u=a(29),d=a(21),p=a(30),O=a.n(p),m=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/contest/");case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return");case 5:n(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(i.jsx)("div",{className:"container-xl",children:Object(i.jsx)("div",{className:"row",children:a.length?a.map((function(e,t){return Object(i.jsxs)(s.b,{to:"/contest/"+e._id,className:"col-3 border m-3 p-3 text-decoration-none",children:[Object(i.jsx)("div",{className:"text-uppercase fs-4 pointer",children:e.name}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"fs-6",children:e.project})]},t)})):"\u0415\u0449\u0435 \u043d\u0435\u0442 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u043e\u0432"})})},x=a(74),h=a(35),v=a(25),f=a(157),N=a(161),y=a(20),g=function(){var e=Object(j.g)(),t=Object(c.useState)({name:"",project:"",prize:""}),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(d.a)(s,2),l=o[0],p=o[1],m=function(e){r(Object(v.a)(Object(v.a)({},n),{},Object(h.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(u.a)(b.a.mark((function t(a){var c,r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c=n.name,r=n.project,c&&r&&l.length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,O.a.post("/api/contest/",{name:c,project:r,prizes:l});case 6:200!==(s=t.sent).status?y.b.error(s.data):(Object(y.b)("\u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0441\u043e\u0437\u0434\u0430\u043d"),e.push("/contest/"+s.data._id));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{onSubmit:g,className:"container-xl",autoComplete:"off",children:[Object(i.jsxs)("div",{className:"row mb-2",children:[Object(i.jsx)(N.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",value:n.name,onChange:m}),Object(i.jsx)(N.a,{label:"\u041f\u0440\u043e\u0435\u043a\u0442",name:"project",value:n.project,onChange:m}),Object(i.jsx)(N.a,{label:"\u0412\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435",name:"prize",value:n.prize,onChange:m,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1000 \u0434\u043e\u043b\u0435\u0439"}),Object(i.jsx)(f.a,{className:"mt-3 mb-4",variant:"contained",color:"primary",onClick:function(){n.prize&&(p([n.prize].concat(Object(x.a)(l))),r(Object(v.a)(Object(v.a)({},n),{},{prize:""})))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),l.map((function(e,t){return Object(i.jsxs)("div",{className:"row mb-1",children:[Object(i.jsx)("div",{className:"col-10",children:e}),Object(i.jsx)(f.a,{className:"col-2",variant:"contained",color:"secondary",onClick:function(){return e=t,void p(l.filter((function(t,a){return a!==e})));var e},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},t)}))]}),Object(i.jsx)("div",{className:"row mt-5",children:Object(i.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0443\u0440\u0441"})})]})},w=a(158),z=a(160),k=a(163),C=a(162),S=a(159),_=a(73),I=a.n(_),P=function(){var e=Object(j.h)().id,t=Object(c.useState)(null),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(d.a)(s,2),l=o[0],p=o[1],m=Object(c.useState)({prize:"",type:""}),x=Object(d.a)(m,2),g=x[0],_=x[1],P=Object(c.useState)(null),E=Object(d.a)(P,2),A=E[0],D=E[1],J=Object(c.useState)({text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"}),B=Object(d.a)(J,2),F=B[0],$=B[1],q=function(){var e=Object(u.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/contest/"+t);case 2:200!==(a=e.sent).status?y.b.error(a.data):r(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){q(e)}),[e]);var G=function(e){switch(_(Object(v.a)(Object(v.a)({},g),{},Object(h.a)({},e.target.name,e.target.value))),e.target.name){case"prize":break;case"type":$({text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"})}},H=function(){var e=Object(u.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l&&g.type&&g.prize){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,O.a.post("/api/contest/"+n._id,{data:l,type:g.type,prizeId:g.prize});case 5:200!==(a=e.sent).status?y.b.error(a.data):((c=n).infos.unshift(a.data),r(Object(v.a)({},c)),Object(y.b)("\u0417\u0430\u043f\u0438\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("/api/contest/"+n._id+"/"+t);case 2:200!==(a=e.sent).status?y.b.error(a.data):((c=n).infos=c.infos.filter((function(e){return e._id!==t})),r(Object(v.a)({},c)),Object(y.b)("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(i.jsxs)("div",{className:"container-xl",children:[Object(i.jsxs)("div",{className:"mb-2 text-center bg-primary p-3 text-white",children:[n.project," | ",n.name]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("form",{onSubmit:H,children:[Object(i.jsxs)("div",{className:"row mb-2 mt-4",children:[Object(i.jsxs)("div",{className:"col-2",children:[Object(i.jsx)(C.a,{id:"toPrize",children:"\u0422\u0438\u043f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),Object(i.jsxs)(z.a,{className:"w-100",name:"type",value:g.type,onChange:G,children:[Object(i.jsx)(k.a,{value:"login",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(i.jsx)(k.a,{value:"phone",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(i.jsx)(k.a,{value:"any",children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})]}),Object(i.jsx)(N.a,{className:"col-10",value:l,onChange:function(e){var t=e.target.value;if("phone"===g.type){if(!/^[\d,+]*$/.test(t))return;var a=Object(S.a)(t),c={text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",color:"primary"};a||(c={text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",color:"secondary"}),$(c),D(a)}p(t)},label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",name:"name",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",InputProps:{startAdornment:"phone"===g.type&&A&&Object(i.jsx)(I.a,{code:A.country,height:20,fallback:Object(i.jsx)("span",{children:"?!"})})}})]}),Object(i.jsx)(f.a,{className:"row-12 mb-5 w-100",variant:"contained",color:F.color,type:"submit",disabled:!g.type||!g.prize||"phone"===g.type&&!A,children:F.text})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12",children:[Object(i.jsx)(C.a,{id:"toPrize",children:"\u041f\u0440\u0438\u0437"}),Object(i.jsx)(z.a,{labelId:"toPrize",className:"w-100",name:"prize",value:g.prize,onChange:G,children:n.prizes.map((function(e,t){return Object(i.jsx)(k.a,{value:e._id,children:e.data})}))})]}),Object(i.jsx)("div",{className:"col-12 mt-3",children:Object(i.jsx)("div",{className:"row",children:n.infos.map((function(e,t){return e.prizeId!==g.prize?Object(i.jsx)(i.Fragment,{}):Object(i.jsx)("div",{className:"col-12 mb-3 border-bottom",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-10",children:[e.type,": ",e.data]}),Object(i.jsx)(f.a,{className:"col-2",color:"secondary",onClick:function(){return K(e._id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},t)}))})})]})]})]}):Object(i.jsx)("div",{className:"container text-center",children:Object(i.jsx)(w.a,{})})};a(119);var E=function(){var e=Object(i.jsxs)(j.d,{children:[Object(i.jsx)(j.b,{path:"/",exact:!0,children:Object(i.jsx)(m,{})}),Object(i.jsx)(j.b,{path:"/create",children:Object(i.jsx)(g,{})}),Object(i.jsx)(j.b,{path:"/contest/:id",children:Object(i.jsx)(P,{})}),Object(i.jsx)(j.a,{to:"/"})]});return Object(i.jsxs)(s.a,{children:[Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),e]}),Object(i.jsx)(y.a,{})]})};r.a.render(Object(i.jsx)(E,{}),document.getElementById("root"))},91:function(e,t,a){},92:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.3a8c6150.chunk.js.map